{"version":3,"sources":["webpack:///webpack/bootstrap c854e720659a2c6540ef","webpack:///./resources/assets/js/index.js","webpack:///./resources/assets/js/draw.js","webpack:///./resources/assets/js/point.js","webpack:///./resources/assets/js/astar.js"],"names":[],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c854e720659a2c6540ef\n **/","import Draw from \"./draw.js\"; //View\nimport Point from \"./point.js\";\nimport Astar from './astar';\n\nexport default class Controller{\n    constructor(){\n        this.cellsCount = 0;\n        this.cells = [];\n\n        this.changeCellsCount(10);\n    }\n\n    changeCellsCount(number) {\n        this.cellsCount = number;\n\n        //TODO: save\n        this.cells = [];\n\n        for (let i = 0; i < number; i++){\n            for (let j = 0; j < number; j ++){\n                if (!this.cells[i]){\n                    this.cells[i] = [];\n                }\n                if (!this.cells[i][j]){\n                    this.cells[i][j] = new Point(i, j);\n                }\n            }\n        }\n\n        this.draw = new Draw(document.getElementById('canvas'), this.cells);\n    }\n\n    clear(){\n        this.changeCellsCount(this.cellsCount);\n    }\n\n    changeMarker(marker) {\n        this.draw.changeMarker(marker);\n    }\n\n    findPath(){\n        let alg = new Astar(this.draw.cells);\n\n        if (alg.findPath()) {\n            this.draw.setCells(alg.points);\n        } else {\n            this.draw.setCells(alg.points);\n            alert('can\\'t find a way!')\n        }\n    }\n}\n\nvar ctrl = new Controller();\n\n//grid input process\ndocument.querySelector(\"input#grid\").addEventListener('change', (e) => {\n    let cellsCount = parseInt(document.querySelector(\"input#grid\").value);\n\n    if (cellsCount > 1000){\n        cellsCount = 1000;\n    }\n\n    if (cellsCount < 0){\n        cellsCount = 0;\n    }\n\n    document.querySelector(\"input#grid\").value = cellsCount;\n    ctrl.changeCellsCount(cellsCount);\n});\n\n//marker\ndocument.querySelector('.button-start').addEventListener('click', (e)=>{\n    ctrl.changeMarker('start');\n});\n\ndocument.querySelector('.button-end').addEventListener('click', (e)=>{\n    ctrl.changeMarker('end');\n});\n\ndocument.querySelector('.button-obstacle').addEventListener('click', (e)=>{\n    ctrl.changeMarker('obstacle');\n});\n\ndocument.querySelector('.button-find').addEventListener('click', (e)=>{\n    ctrl.findPath();\n});\n\ndocument.querySelector('.button-clear').addEventListener('click', (e)=>{\n    ctrl.clear();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./resources/assets/js/index.js\n **/","export default class Draw{\n    constructor(canvas, cells){\n        this.canvas= canvas;\n        this.ctx = canvas.getContext('2d');\n        this.grid = cells.length;\n        this.cells = cells;\n\n        this.startPoint = {};\n        this.endPoint = {};\n\n        this.marker = 'start'; // 'end', 'start', 'obstacle', 'null'\n\n        this.redraw();\n\n        canvas.addEventListener('click', (e) => {this.clickHandle(e, canvas)});\n    }\n\n    setGrid(grid) {\n        this.grid = parseInt(grid);\n        this.redraw();\n    }\n\n    setCells(cells){\n        this.cells = cells;\n        this.redraw();\n    }\n\n    redraw(){\n        let i,j;\n        var ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n        for (i = 0; i < this.cells.length; i++){\n            for (j = 0; j < this.cells.length; j++){\n                let fill = \"\";\n\n                if (this.cells[i][j].marker !== 'null'){\n                    switch (this.cells[i][j].marker) {\n                        case 'start':\n                            fill = \"#90ee90\";\n                            this.startPoint = this.cells[i][j];\n                            break;\n                        case 'end':\n                            fill = \"#f00\";\n                            this.endPoint = this.cells[i][j];\n                            break;\n                        case 'opened':\n                            fill = '#FFFEC9';\n                            break;\n                        case 'path':\n                            fill = '#add8e6';\n                            break;\n                        case 'obstacle':\n                            fill = \"#535353\";\n                            break;\n                        default:\n                            fill = \"#fff\";\n                    }\n\n                    this.fillSector({x:j, y:i}, fill);\n                }\n            }\n        }\n\n        this.drawGrid();\n    }\n\n    clear(){\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    drawGrid(){\n        this.step = this.canvas.width / this.grid;\n        let start = 0;\n        let end = this.canvas.width;\n        let i = 0;\n\n        this.ctx.strokeStyle=\"#ccc\";\n        this.ctx.fillStyle=\"#ccc\";\n\n        for (i = start; i < end; i += this.step){\n            this.ctx.beginPath();\n            this.ctx.moveTo(start, i);\n            this.ctx.lineTo(end, i);\n            this.ctx.stroke();\n\n            this.ctx.beginPath();\n            this.ctx.moveTo(i, start);\n            this.ctx.lineTo(i, end);\n            this.ctx.stroke();\n        }\n    }\n\n    changeMarker(marker) {\n        this.marker = marker;\n    }\n\n    clickHandle(e, canvas){\n        var x;\n        var y;\n\n        if (e.pageX || e.pageY) {\n          x = e.pageX;\n          y = e.pageY;\n        }\n        else {\n          x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n          y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        x -= this.canvas.offsetLeft;\n        y -= this.canvas.offsetTop;\n\n        x = x / canvas.clientWidth * canvas.width;\n        y = y / canvas.clientHeight * canvas.height;\n\n        this.processClick({x, y});\n    }\n\n    processClick(point){\n        let i = Math.ceil(point.y / this.step) - 1;\n        let j = Math.ceil(point.x / this.step) - 1;\n\n        if (this.marker == 'start') {\n            this.startPoint.marker = 'null';\n        }\n        if (this.marker == 'end') {\n            this.endPoint.marker = 'null';\n        }\n\n        if (this.marker == 'obstacle') {\n            this.cells[i][j].open = !this.cells[i][j].open;\n        }\n\n        if (this.cells[i][j].marker == this.marker) {\n            this.cells[i][j].marker = 'null';\n        } else {\n            this.cells[i][j].marker = this.marker;\n        }\n\n        this.redraw();\n    }\n\n    fillSector(point, fill) {\n        let startPoint;\n        let step = this.step;\n\n        startPoint = {\n            x: point.x * step,\n            y: point.y * step\n        };\n\n        this.ctx.fillStyle = fill;\n        this.ctx.fillRect(startPoint.x, startPoint.y, step, step);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./resources/assets/js/draw.js\n **/","export default class Point{\n\n    constructor(x, y){\n        this.marker = 'null';\n        this.open = true;\n        this.metrics = undefined;\n\n        this.x = x;\n        this.y = y;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./resources/assets/js/point.js\n **/","export default class Astar{\n\n    constructor(points){\n        this.points = points;\n    }\n\n    findPath(){\n        this.findStartEnd();\n\n        if ((this.start !== undefined) && (this.end  !== undefined)){\n            return this.search();\n        } else {\n            return false;\n        }\n    }\n\n    search(){\n        let last = this.start;\n        let minMetrics = 99999;\n        let openList = [];\n        let best;\n        let i,j;\n        let counter = 0;\n\n        //добавление точки в список открытых вершин\n        let addPoints = function(i, j, parent, points, openList){\n            let checkAndAdd = function(i, j){\n                console.log(i, j);\n                if (points[i][j].open && points[i][j].marker != 'obstacle'){\n\n                    //при нахождении оптимального родители закрашиваются.\n                    //тут сохранение родителя для элемента\n                    points[i][j].parent = parent;\n                    //игнорируем уже добавленные при попытке добавить еще раз\n                    points[i][j].open = false;\n\n                    openList.splice(0,0,points[i][j]);\n                }\n            }\n            //проверки существования элемента в текущей сетке\n            if (j > 0) {\n                checkAndAdd(i, j - 1);\n            }\n\n            if (j + 1 < points[i].length) {\n                checkAndAdd(i, j + 1);\n            }\n\n            if (i > 0) {\n                checkAndAdd(i - 1, j);\n\n                //diagonals\n                // if (j > 0) {\n                //     checkAndAdd(i - 1, j - 1);\n                // }\n                // if (j < points[i - 1].length - 1) {\n                //     checkAndAdd(i - 1, j + 1);\n                // }\n            }\n\n            if (i < points.length - 1){\n                checkAndAdd(i + 1, j);\n\n                //diagonals\n                // if (j < points[i].length - 1) {\n                //     checkAndAdd(i + 1, j + 1);\n                // }\n                // if (j > 0) {\n                //     checkAndAdd(i + 1, j - 1);\n                // }\n            }\n        }\n\n        i = last.x;\n        j = last.y;\n\n        addPoints(i, j, undefined, this.points, openList);\n\n        while (openList.length > 0) {\n            counter++;\n\n            minMetrics = 99999;\n            best = undefined;\n\n            let maxIndex = 0;\n\n            //нахождение оптимального элемента из списка открытых вершин\n            for (let k = 0; k < openList.length; k ++){\n                openList[k].metrics = this.lineLength(openList[k], this.end);\n                if (openList[k].metrics < minMetrics) {\n                    minMetrics = openList[k].metrics;\n                    best = openList[k];\n                    maxIndex = k;\n                }\n            }\n\n            //удаление оптимального элемента из списка открытых вершин\n            openList.splice(maxIndex, 1);\n\n            //best.open = false;\n            //закраска раскрытой вершины\n            best.marker = 'opened';\n\n            last = best;\n\n            //end search\n            if ((best.x == this.end.x) && (best.y == this.end.y)){\n                best.marker = 'end';\n                let _last = last;\n\n                //закраска родителей\n                while (_last.parent) {\n                    _last.parent.marker = 'path';\n                    _last = _last.parent;\n                    //кроме первого\n                    if (!_last.parent) {\n                        break\n                    }\n                }\n\n                //this.start.marker = 'start';\n\n                console.log('success!');\n                return true;\n            }\n\n            i = best.x;\n            j = best.y;\n\n            //добавление всех соседних точек от текущей лучшей\n            addPoints(i, j, last, this.points, openList);\n\n        }\n        console.log('');\n        return false;\n    }\n\n    lineLength(point1, point2){\n        let x1,x2,y1,y2, res;\n\n        x1 = point1.x;\n        x2 = point2.x;\n        y1 = point1.y;\n        y2 = point2.y;\n\n        res = Math.sqrt(Math.pow((x2 - x1),2) + Math.pow((y2 - y1),2));\n        return res;\n    }\n\n    findStartEnd(){\n        let i,j;\n\n        for (i = 0; i < this.points.length; i++) {\n            for (j = 0; j < this.points[i].length; j++){\n                if (this.points[i][j].marker == 'start') {\n                    this.start = {\n                                    x: i,\n                                    y: j\n                                };\n                    continue;\n                }\n\n                if (this.points[i][j].marker == 'end') {\n                    this.end = {\n                                    x: i,\n                                    y: j\n                                };\n                    continue;\n                }\n            }\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./resources/assets/js/astar.js\n **/"],"sourceRoot":""}